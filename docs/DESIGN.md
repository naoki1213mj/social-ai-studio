# DESIGN.md â€” ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸

## 1. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Frontend (React + TypeScript + Tailwind + shadcn/ui) â”‚
â”‚  ğŸŒ i18n (EN/JA)  ğŸŒ™ Dark/Light Mode  ğŸ’¬ Multi-turn Chat   â”‚
â”‚  ğŸ§  Reasoning Display  ğŸ”§ Tool Viz  ğŸ“‹ Copy  ğŸ“ Markdown   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ REST API + SSE (Server-Sent Events)
                            â”‚ __TOOL_EVENT__ / __REASONING__ markers
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Backend (FastAPI)                          â”‚
â”‚  POST /api/chat â€” Streaming Response (SSE)                   â”‚
â”‚  GET  /api/health                                            â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        Single Agent + Multi-Tool (multi_tool mode)     â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚   System Prompt (Reasoning Directives)                 â”‚  â”‚
â”‚  â”‚     â”œâ”€â”€ CoT: æˆ¦ç•¥ç«‹æ¡ˆã®æ®µéšçš„æ€è€ƒ                      â”‚  â”‚
â”‚  â”‚     â”œâ”€â”€ ReAct: ãƒ„ãƒ¼ãƒ«ä½¿ç”¨ + æ¨è«–                       â”‚  â”‚
â”‚  â”‚     â””â”€â”€ Self-Reflection: å“è³ªè‡ªå·±è©•ä¾¡ãƒ»æ”¹å–„            â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚   Tools:                                               â”‚  â”‚
â”‚  â”‚     â”œâ”€â”€ ğŸ” web_search (WebSearchPreviewTool)           â”‚  â”‚
â”‚  â”‚     â”œâ”€â”€ ğŸ“„ file_search (FileSearchTool)                â”‚  â”‚
â”‚  â”‚     â”œâ”€â”€ âœï¸  generate_content (@tool custom)             â”‚  â”‚
â”‚  â”‚     â””â”€â”€ ğŸ“Š review_content (@tool custom)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  AzureOpenAIResponsesClient (Singleton) â”‚                â”‚
â”‚  â”‚  agent-framework-core (Responses API)   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼               â–¼               â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ File     â”‚   â”‚ Web Search   â”‚   â”‚ Custom   â”‚
      â”‚ Search   â”‚   â”‚ Preview      â”‚   â”‚ Tools    â”‚
      â”‚(Brand    â”‚   â”‚(Bing/Trends) â”‚   â”‚(generate â”‚
      â”‚ Guide)   â”‚   â”‚ gpt-5 å¯¾å¿œ   â”‚   â”‚ /review) â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. å˜ä¸€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ + ãƒãƒ«ãƒãƒ„ãƒ¼ãƒ«è¨­è¨ˆ

### è¨­è¨ˆæ€æƒ³

éå»ãƒªãƒã‚¸ãƒˆãƒª (fabric-foundry-agentic-starter) ã® `multi_tool` ãƒ¢ãƒ¼ãƒ‰ã‚’è¸è¥²ã€‚
**`agent-framework-core` SDK ã® `AzureOpenAIResponsesClient` + `@tool` ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã€‚**

åˆ©ç‚¹:

- `@tool(approval_mode="never_require")` + `Annotated` ã§å‹å®‰å…¨ãªãƒ„ãƒ¼ãƒ«å®šç¾©
- `client.as_agent()` â†’ `agent.run_stream()` ã®ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°
- LLM ãŒå…¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¿æŒã—ãŸã¾ã¾ä¸€è²«ã—ãŸåˆ¤æ–­
- ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã®ãƒ‡ãƒ¼ã‚¿å—ã‘æ¸¡ã—ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãªã—
- æ¨è«–ãƒ—ãƒ­ã‚»ã‚¹ï¼ˆthinkingï¼‰ãŒãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ä¸€å…ƒè¡¨ç¤ºå¯èƒ½
- éå»ãƒªãƒã‚¸ãƒˆãƒªã¨åŒä¸€ãƒ‘ã‚¿ãƒ¼ãƒ³ â†’ å®Ÿç¸¾ã‚ã‚Š
- ãƒãƒƒã‚«ã‚½ãƒ³ã®100åˆ†åˆ¶é™å†…ã§ç¢ºå®Ÿã«å‹•ä½œ

### ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‡¦ç†ãƒ•ãƒ­ãƒ¼

```
  User Message (topic, platforms, content_type, context)
      â”‚
      â–¼
  â”Œâ”€ Agent (gpt-5.2 reasoning) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                       â”‚
  â”‚  ğŸ§  Thinking (Step 1): ãƒˆãƒ”ãƒƒã‚¯åˆ†æãƒ»æˆ¦ç•¥ç«‹æ¡ˆ         â”‚
  â”‚      â”œâ”€â”€ CoT ã§æ®µéšçš„ã«æ€è€ƒ                           â”‚
  â”‚      â””â”€â”€ â†’ reasoning tokens ã‚’ãƒ•ãƒ­ãƒ³ãƒˆã¸ã‚¹ãƒˆãƒªãƒ¼ãƒ      â”‚
  â”‚                                                       â”‚
  â”‚  ğŸ”§ Tool Call: file_search("brand guidelines")        â”‚
  â”‚      â””â”€â”€ â†’ __TOOL_EVENT__ ã§ãƒ•ãƒ­ãƒ³ãƒˆã¸é€šçŸ¥             â”‚
  â”‚                                                       â”‚
  â”‚  ğŸ”§ Tool Call: web_search("latest AI trends 2026")    â”‚
  â”‚      â””â”€â”€ â†’ __TOOL_EVENT__ ã§ãƒ•ãƒ­ãƒ³ãƒˆã¸é€šçŸ¥             â”‚
  â”‚                                                       â”‚
  â”‚  ğŸ§  Thinking (Step 2): æƒ…å ±çµ±åˆãƒ»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ§‹æˆ       â”‚
  â”‚      â””â”€â”€ ReAct: æ¤œç´¢çµæœã‚’åŸºã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ§‹æƒ³          â”‚
  â”‚                                                       â”‚
  â”‚  ğŸ”§ Tool Call: generate_content(strategy, platform)    â”‚
  â”‚      â””â”€â”€ ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ã«æœ€é©åŒ–ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ   â”‚
  â”‚                                                       â”‚
  â”‚  ğŸ§  Thinking (Step 3): å“è³ªè‡ªå·±è©•ä¾¡                   â”‚
  â”‚      â””â”€â”€ Self-Reflection: 5è»¸ã§è‡ªå·±è©•ä¾¡ãƒ»æ”¹å–„          â”‚
  â”‚                                                       â”‚
  â”‚  ğŸ”§ Tool Call: review_content(draft, guidelines)       â”‚
  â”‚      â””â”€â”€ ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚° + ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ç”Ÿæˆ              â”‚
  â”‚                                                       â”‚
  â”‚  ğŸ“¤ Final Output: JSON (contents + scores + feedback)  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ„ãƒ¼ãƒ«ä¸€è¦§

| ãƒ„ãƒ¼ãƒ«å | ç¨®åˆ¥ | èª¬æ˜ |
|----------|------|------|
| `web_search` | `WebSearchPreviewTool` (Hosted) | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®ãƒˆãƒ¬ãƒ³ãƒ‰ãƒ»ãƒ‹ãƒ¥ãƒ¼ã‚¹æ¤œç´¢ã€‚gpt-5 å¯¾å¿œï¼ˆBingGroundingAgentTool ã¯éå¯¾å¿œï¼‰ |
| `file_search` | `FileSearchTool` (Hosted) | ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ»ç¤¾å†…è³‡æ–™ã®æ¤œç´¢ã€‚Vector Store ã«æ ¼ç´ |
| `generate_content` | `@tool` (Custom) | ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ã®æ–‡å­—æ•°åˆ¶ç´„ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæœ€é©åŒ–ã‚’é©ç”¨ã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ |
| `review_content` | `@tool` (Custom) | 5è»¸å“è³ªã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ï¼ˆbrand_alignment, audience_relevance, engagement_potential, clarity, platform_optimizationï¼‰+ æ”¹å–„ææ¡ˆ |
| `generate_image` | `@tool` (Custom) | gpt-image-1.5 ã§ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æœ€é©åŒ–ã•ã‚ŒãŸãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚’ç”Ÿæˆã€‚base64 ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«è¿”å´ |

### Human-in-the-Loop (HITL) ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¯¾ã—ã¦ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã”ã¨ã«ä»¥ä¸‹ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå¯èƒ½ï¼š

1. **æ‰¿èª (Approve)** â€” ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç¢ºèªæ¸ˆã¿ã¨ã—ã¦ãƒãƒ¼ã‚¯
2. **ç·¨é›† (Edit)** â€” ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†ï¼ˆtextarea ã§ç›´æ¥ä¿®æ­£ã€ä¿å­˜/ã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼‰
3. **æ”¹å–„ (Refine)** â€” è‡ªç„¶è¨€èªã§ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å…¥åŠ› â†’ AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å†é€ä¿¡

Refine ã¯åŒã˜ã‚¹ãƒ¬ãƒƒãƒ‰ã«ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã€æŒ‡å®šãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã¿ã‚’æ”¹å–„ã€‚
ä¼šè©±ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒä¿æŒã•ã‚Œã‚‹ãŸã‚ã€ãƒˆãƒ”ãƒƒã‚¯ã‚„ä»–ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®å†…å®¹ã¯ç¶­æŒã•ã‚Œã‚‹ã€‚

### ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

- **Markdown (.md)** â€” å…¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ + ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚° + CTA + å“è³ªã‚¹ã‚³ã‚¢ + ã‚½ãƒ¼ã‚¹ã‚’æ§‹é€ åŒ–ã•ã‚ŒãŸ .md ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- **JSON** â€” æ§‹é€ åŒ–å‡ºåŠ›ã‚’ãã®ã¾ã¾ JSON ã¨ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆCMS é€£æºã‚„ãƒ„ãƒ¼ãƒ«çµ±åˆç”¨ï¼‰

### ãƒãƒ«ãƒã‚¿ãƒ¼ãƒ³å¯¾å¿œ

- Thread ID ã‚’ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å´ã§ä¿æŒ
- ã€Œã‚‚ã£ã¨ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã«ã—ã¦ã€ã€ŒXã®æŠ•ç¨¿ã ã‘å¤‰ãˆã¦ã€ç­‰ã®ãƒªãƒ•ã‚¡ã‚¤ãƒ³å¯¾è©±ã«å¯¾å¿œ
- ä¼šè©±å±¥æ­´ã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã®ã¿ï¼ˆæ°¸ç¶šåŒ–ãªã— â€” ãƒãƒƒã‚«ã‚½ãƒ³ã‚¹ã‚³ãƒ¼ãƒ—ï¼‰

## 3. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### 3.1 ChatRequestï¼ˆAPI ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰

```json
{
  "message": "string (ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆ)",
  "thread_id": "string | null (ãƒãƒ«ãƒã‚¿ãƒ¼ãƒ³ç”¨ã€åˆå›ã¯ null)",
  "platforms": ["linkedin", "x", "instagram"],
  "content_type": "product_launch | blog_summary | event | hiring | trend | thought_leadership",
  "language": "en | ja"
}
```

### 3.2 SSE ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ

éå»ãƒªãƒã‚¸ãƒˆãƒªã® `__TOOL_EVENT__` / `__END_TOOL_EVENT__` ãƒãƒ¼ã‚«ãƒ¼æ–¹å¼ã‚’è¸è¥²ã€‚

```
# æ¨è«–ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆthinkingï¼‰
data: {"type": "reasoning", "content": "ãƒˆãƒ”ãƒƒã‚¯ã‚’åˆ†æä¸­..."}

# ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—é–‹å§‹
data: {"type": "tool_start", "tool": "web_search", "input": {"query": "AI trends 2026"}}

# ãƒ„ãƒ¼ãƒ«çµæœ
data: {"type": "tool_end", "tool": "web_search", "output": "...", "duration_ms": 1200}

# ãƒ†ã‚­ã‚¹ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ 
data: {"type": "text", "content": "ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„...", "thread_id": "thread_abc123"}

# å®Œäº†
data: {"type": "done", "thread_id": "thread_abc123"}

# ã‚¨ãƒ©ãƒ¼
data: {"type": "error", "message": "Rate limit exceeded", "retry_after": 5}
```

### 3.3 ContentOutputï¼ˆæœ€çµ‚å‡ºåŠ› JSONï¼‰

ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®æœ€çµ‚å‡ºåŠ›ã¯ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ + æ§‹é€ åŒ– JSON ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã€‚
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¤ã¤ã€ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½ã«ã¯ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æä¾›ã€‚

```json
{
  "contents": [
    {
      "platform": "linkedin | x | instagram",
      "body": "string (ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å¯¾å¿œ)",
      "hashtags": ["string"],
      "call_to_action": "string",
      "character_count": "number",
      "posting_time_suggestion": "string"
    }
  ],
  "review": {
    "overall_score": "number (1-10)",
    "scores": {
      "brand_alignment": "number (1-10)",
      "audience_relevance": "number (1-10)",
      "engagement_potential": "number (1-10)",
      "clarity": "number (1-10)",
      "platform_optimization": "number (1-10)"
    },
    "feedback": ["string"],
    "improvements_made": ["string"]
  },
  "sources_used": ["string (Webæ¤œç´¢ã§å‚ç…§ã—ãŸURLç­‰)"]
}
```

## 4. æ¨è«–ãƒ‘ã‚¿ãƒ¼ãƒ³è¨­è¨ˆï¼ˆå˜ä¸€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«çµ±åˆï¼‰

gpt-5.2 ã®æ¨è«–èƒ½åŠ›ã‚’æ´»ç”¨ã—ã€**1ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå†…ã« 3ã¤ã®æ¨è«–ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’çµ„ã¿è¾¼ã‚€ã€‚**

```text
========================================================
ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ â€” TechPulse Social Content Agent
========================================================

# Role
You are an expert social media content strategist and creator
for TechPulse Inc., a technology company.

# Reasoning Process
Follow these 3 phases for EVERY content request:

## Phase 1: Strategic Analysis (Chain-of-Thought)
Think step-by-step:
1. Analyze the core topic and its significance
2. Identify the target audience for each platform
3. Determine the key message and unique angles
4. Plan platform-specific strategies

Show your thinking explicitly in your response.

## Phase 2: Content Creation (ReAct)
For each platform:
- Thought: What approach works best for this platform?
- Action: Use web_search to find latest trends/data
- Action: Use file_search to check brand guidelines
- Action: Use generate_content to create optimized text
- Observation: Verify alignment with strategy

## Phase 3: Quality Review (Self-Reflection)
Before delivering:
- Evaluate each piece on 5 axes (1-10):
  brand_alignment, audience_relevance,
  engagement_potential, clarity, platform_optimization
- If any score < 7, revise and re-evaluate
- Use review_content tool for structured scoring

# Output Format
Return content in Markdown format with structured JSON
for each platform's content and quality scores.

# Platform Guidelines
- LinkedIn: Professional, data-driven, 3000 char max
- X/Twitter: Casual, witty, dev-community voice, 280 char
- Instagram: Visual-first, approachable, 2200 char caption

# Language
Generate content in the language specified by the user.
Default: English. Support: English, Japanese.
```

### æ¨è«–ãƒˆãƒ¼ã‚¯ãƒ³ã®å–å¾—

gpt-5.2 ã¯ Responses API ã§ `reasoning` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æ¨è«–éç¨‹ã‚’å‡ºåŠ›ã€‚
ã“ã‚Œã‚’ SSE ã‚¹ãƒˆãƒªãƒ¼ãƒ ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«é…ä¿¡ã—ã€æŠ˜ã‚ŠãŸãŸã¿ UI ã§è¡¨ç¤ºã™ã‚‹ã€‚

```python
from agent_framework import tool
from agent_framework.azure import AzureOpenAIResponsesClient
from azure.identity import DefaultAzureCredential
from typing import Annotated

# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåˆæœŸåŒ–
client = AzureOpenAIResponsesClient(
    base_url=f"{PROJECT_ENDPOINT}/openai/v1/",
    deployment_name="gpt-5.2",
    credential=DefaultAzureCredential(),
)

# ã‚«ã‚¹ã‚¿ãƒ ãƒ„ãƒ¼ãƒ«å®šç¾©
@tool(approval_mode="never_require")
async def generate_content(
    topic: Annotated[str, "ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒˆãƒ”ãƒƒã‚¯"],
    platform: Annotated[str, "å¯¾è±¡ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  (linkedin/x/instagram)"],
    language: Annotated[str, "å‡ºåŠ›è¨€èª (en/ja)"] = "en",
) -> str:
    """ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ã«æœ€é©åŒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã™ã‚‹"""
    ...

@tool(approval_mode="never_require")
async def review_content(
    content: Annotated[str, "ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾è±¡ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„"],
    platform: Annotated[str, "å¯¾è±¡ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ "],
) -> str:
    """ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’5è»¸ã§å“è³ªè©•ä¾¡ã—ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æä¾›ã™ã‚‹"""
    ...

# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä½œæˆ & ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°
agent = client.as_agent(
    name="techpulse_social_agent",
    instructions=SYSTEM_PROMPT,
    tools=[generate_content, review_content],  # + web_search, file_search
)

async for output in stream_with_tool_events(agent.run_stream(query)):
    yield output
```

## 5. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆæœ€çµ‚ç‰ˆï¼‰

```
hackfest-techconnect2026/
â”œâ”€â”€ .github/
â”‚   â”œâ”€â”€ copilot-instructions.md
â”‚   â””â”€â”€ instructions/
â”‚       â”œâ”€â”€ python-foundry.instructions.md
â”‚       â””â”€â”€ security.instructions.md
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config.py              # è¨­å®šãƒ­ãƒ¼ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ client.py              # AzureOpenAIResponsesClient ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³
â”‚   â”œâ”€â”€ tools.py               # ã‚«ã‚¹ã‚¿ãƒ ãƒ„ãƒ¼ãƒ«å®šç¾© (generate_content, review_content)
â”‚   â”œâ”€â”€ prompts/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ system_prompt.py   # ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆå¤–éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ï¼‰
â”‚   â”œâ”€â”€ agent.py               # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä½œæˆãƒ»å®Ÿè¡Œãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ models.py              # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼ˆPydanticï¼‰
â”‚   â””â”€â”€ api.py                 # FastAPI + SSE ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx            # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª + ãƒ†ãƒ¼ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatPanel.tsx      # ãƒãƒ£ãƒƒãƒˆãƒ‘ãƒãƒ«ï¼ˆãƒãƒ«ãƒã‚¿ãƒ¼ãƒ³ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ InputForm.tsx      # ãƒˆãƒ”ãƒƒã‚¯å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”‚   â”‚   â”œâ”€â”€ ReasoningPanel.tsx # ğŸ§  æ¨è«–ãƒ—ãƒ­ã‚»ã‚¹è¡¨ç¤ºï¼ˆæŠ˜ã‚ŠãŸãŸã¿ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ ToolEvents.tsx     # ğŸ”§ ãƒ„ãƒ¼ãƒ«ä½¿ç”¨çŠ¶æ³å¯è¦–åŒ–
â”‚   â”‚   â”‚   â”œâ”€â”€ ContentCard.tsx    # ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥çµæœã‚«ãƒ¼ãƒ‰
â”‚   â”‚   â”‚   â”œâ”€â”€ ScoreRadar.tsx     # å“è³ªã‚¹ã‚³ã‚¢ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ ThemeToggle.tsx    # ğŸŒ™ ãƒ€ãƒ¼ã‚¯/ãƒ©ã‚¤ãƒˆåˆ‡æ›¿
â”‚   â”‚   â”‚   â””â”€â”€ LanguageSwitch.tsx # ğŸŒ EN/JA åˆ‡æ›¿
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useSSE.ts          # SSE ã‚¹ãƒˆãƒªãƒ¼ãƒ å‡¦ç†ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”‚   â”œâ”€â”€ useTheme.ts        # ãƒ†ãƒ¼ãƒç®¡ç†ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”‚   â””â”€â”€ useI18n.ts         # i18n ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts             # API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ i18n.ts            # ç¿»è¨³ãƒ‡ãƒ¼ã‚¿ (EN/JA)
â”‚   â”‚   â””â”€â”€ index.css              # Tailwind CSS + dark mode
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”œâ”€â”€ data/
â”‚   â””â”€â”€ brand_guidelines.md    # ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ï¼ˆåˆæˆãƒ‡ãƒ¼ã‚¿ï¼‰
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ SPEC.md
â”‚   â””â”€â”€ DESIGN.md
â”œâ”€â”€ .env                       # ç’°å¢ƒå¤‰æ•°ï¼ˆgitignoredï¼‰
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â”œâ”€â”€ pyproject.toml
â””â”€â”€ README.md
```

## 6. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆï¼ˆReact + Tailwind + shadcn/uiï¼‰

### é¸å®šç†ç”±

- **React + TypeScript**: å‹å®‰å…¨ã§ãƒ¢ãƒ€ãƒ³ãªSPAé–‹ç™º
- **Tailwind CSS**: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§é«˜é€Ÿã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° + Dark Mode å¯¾å¿œ
- **shadcn/ui**: ç¾ã—ã„ãƒ—ãƒªãƒ“ãƒ«ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆCard, Badge, Progress, Collapsibleç­‰ï¼‰
- **Vite**: é«˜é€Ÿãƒ“ãƒ«ãƒ‰ & HMRï¼ˆãƒãƒƒã‚«ã‚½ãƒ³å‘ãï¼‰
- **SSE (Server-Sent Events)**: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé€²æ—ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°

### æ©Ÿèƒ½ä¸€è¦§ï¼ˆéå»ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ã®è¸è¥²ï¼‰

| æ©Ÿèƒ½ | èª¬æ˜ | å…ƒãƒã‚¿ |
|------|------|--------|
| ğŸ§  **æ¨è«–ãƒ—ãƒ­ã‚»ã‚¹è¡¨ç¤º** | gpt-5.2 ã® thinking ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æŠ˜ã‚ŠãŸãŸã¿ UI ã§è¡¨ç¤º | fabric-foundry-agentic-starter |
| ğŸ”§ **ãƒ„ãƒ¼ãƒ«ä½¿ç”¨çŠ¶æ³å¯è¦–åŒ–** | `__TOOL_EVENT__` ãƒãƒ¼ã‚«ãƒ¼ã§ãƒ„ãƒ¼ãƒ«åãƒ»å…¥åŠ›ãƒ»çµæœãƒ»æ‰€è¦æ™‚é–“ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º | fabric-foundry-agentic-starter |
| ğŸŒ **å¤šè¨€èªå¯¾å¿œ (i18n)** | EN/JA åˆ‡æ›¿ã€‚UI ãƒ©ãƒ™ãƒ« + ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆè¨€èª | fabric-foundry-agentic-starter |
| ğŸŒ™ **ãƒ€ãƒ¼ã‚¯/ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰** | Tailwind `dark:` ã‚¯ãƒ©ã‚¹ã§å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå¯¾å¿œã€ãƒãƒ£ãƒ¼ãƒˆå«ã‚€ | fabric-foundry-agentic-starter |
| ğŸ’¬ **ãƒãƒ«ãƒã‚¿ãƒ¼ãƒ³ä¼šè©±** | Thread ID ä¿æŒã§ãƒªãƒ•ã‚¡ã‚¤ãƒ³å¯¾è©±å¯¾å¿œã€‚ãƒãƒ£ãƒƒãƒˆå±¥æ­´è¡¨ç¤º | fabric-foundry-agentic-starter |
| ğŸ“‹ **ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½** | ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ã®ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ | æ–°è¦ |
| ğŸ“ **ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å‡ºåŠ›** | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‡ºåŠ›ã‚’ Markdown ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã§è¡¨ç¤ºï¼ˆreact-markdownï¼‰ | æ–°è¦ |
| ğŸ“Š **å“è³ªã‚¹ã‚³ã‚¢** | 5è»¸ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã§å“è³ªè©•ä¾¡ã‚’å¯è¦–åŒ– | æ–°è¦ |

### UI ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš€ TechPulse Social     [ğŸŒ EN/JA] [ğŸŒ™/â˜€ï¸]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€ Input Form â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Message: [__________________________________]      â”‚   â”‚
â”‚  â”‚  Platforms: [LinkedIn] [X] [Instagram]              â”‚   â”‚
â”‚  â”‚  Type: [Product Launch â–¼]  Lang: [EN/JA]            â”‚   â”‚
â”‚  â”‚                              [âœ¨ Generate]           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€ ğŸ§  Reasoning (collapsible) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â–¶ Step 1: ãƒˆãƒ”ãƒƒã‚¯åˆ†æ...                          â”‚   â”‚
â”‚  â”‚    â€œAI product launch â†’ B2B focus â†’ dev comm...â€  â”‚   â”‚
â”‚  â”‚  â–¶ Step 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ§‹æƒ³...                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€ ğŸ”§ Tool Activity â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âœ… file_search  â€œbrand guidelinesâ€    0.8s       â”‚   â”‚
â”‚  â”‚  âœ… web_search   â€œAI trends 2026â€      1.2s       â”‚   â”‚
â”‚  â”‚  â³ generate_content  LinkedIn          ...        â”‚   â”‚
â”‚  â”‚  â¬œ review_content                     waiting    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€ Response (Markdown) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [LinkedIn] [X] [Instagram]  tabs                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  ## LinkedIn Post                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  *Markdown rendered content*             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  #hashtags                               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  ğŸ“Š Score: 8.5/10 [ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ]     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  ğŸ’¡ Feedback: "Strong CTA..."            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  [ğŸ“‹ Copy] [ğŸ”„ Regenerate]               â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€ Chat History (multi-turn) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  You: "Create posts about our new AI product"   â”‚   â”‚
â”‚  â”‚  Agent: [response...]                           â”‚   â”‚
â”‚  â”‚  You: "Make the X post more casual"              â”‚   â”‚
â”‚  â”‚  Agent: [updated response...]                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | å½¹å‰² | SSE ã‚¤ãƒ™ãƒ³ãƒˆ |
|---|---|---|
| `App.tsx` | ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ†ãƒ¼ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã€i18n ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ | â€” |
| `ChatPanel.tsx` | ãƒãƒ«ãƒã‚¿ãƒ¼ãƒ³ä¼šè©±å±¥æ­´ãƒ»å…¥åŠ› UI | â€” |
| `InputForm.tsx` | ãƒˆãƒ”ãƒƒã‚¯å…¥åŠ› + ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é¸æŠ + è¨€èªé¸æŠ | â€” |
| `ReasoningPanel.tsx` | ğŸ§  thinking ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æŠ˜ã‚ŠãŸãŸã¿è¡¨ç¤º | `reasoning` |
| `ToolEvents.tsx` | ğŸ”§ ãƒ„ãƒ¼ãƒ«åãƒ»å…¥åŠ›ãƒ»æ‰€è¦æ™‚é–“ã‚’ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤º | `tool_start` / `tool_end` |
| `ContentCard.tsx` | ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ã® Markdown ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° + ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ | `text` |
| `ScoreRadar.tsx` | 5è»¸å“è³ªã‚¹ã‚³ã‚¢ã®ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ | `text` (æœ€çµ‚JSONã‹ã‚‰æŠ½å‡º) |
| `ThemeToggle.tsx` | Dark/Light ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ãƒœã‚¿ãƒ³ | â€” |
| `LanguageSwitch.tsx` | EN/JA åˆ‡æ›¿ | â€” |

### SSE ã‚¹ãƒˆãƒªãƒ¼ãƒ å‡¦ç†ï¼ˆuseSSE ãƒ•ãƒƒã‚¯ï¼‰

```typescript
// éå»ãƒªãƒã‚¸ãƒˆãƒªã® ReadableStreamDefaultReader ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¸è¥²
const useSSE = (url: string) => {
  // SSE ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒ‘ãƒ¼ã‚¹ã—ã€type ã«å¿œã˜ã¦çŠ¶æ…‹ã‚’æ›´æ–°:
  // "reasoning"  â†’ reasoningPanelState ã«è¿½åŠ 
  // "tool_start" â†’ toolEventsState ã«é–‹å§‹ãƒãƒ¼ã‚«ãƒ¼è¿½åŠ 
  // "tool_end"   â†’ toolEventsState ã«å®Œäº† + æ‰€è¦æ™‚é–“è¿½åŠ 
  // "text"       â†’ contentState ã« Markdown ãƒ†ã‚­ã‚¹ãƒˆè¿½åŠ 
  // "done"       â†’ thread_id ä¿å­˜ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çµ‚äº†
  // "error"      â†’ ã‚¨ãƒ©ãƒ¼è¡¨ç¤º + retry
};
```

### æ¨è«–ãƒ—ãƒ­ã‚»ã‚¹è¡¨ç¤ºã®å®Ÿè£…è©³ç´°

- `reasoning` ã‚¤ãƒ™ãƒ³ãƒˆã‚’ `ReasoningPanel.tsx` ã«ã‚¹ãƒˆãƒªãƒ¼ãƒ 
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯æŠ˜ã‚ŠãŸãŸã¿çŠ¶æ…‹ï¼ˆ`<Collapsible>`ï¼‰ã€ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹
- ğŸ§  ã‚¢ã‚¤ã‚³ãƒ³ + â€œThinking...â€ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã¯ãƒ‘ãƒ«ã‚¹è¡¨ç¤º
- ãƒ¢ãƒã‚¹ãƒšãƒ¼ã‚¹ãƒ•ã‚©ãƒ³ãƒˆã§è¡¨ç¤ºï¼ˆthinking ãŒæœ¬æ–‡ã¨åŒºåˆ¥ã•ã‚Œã‚‹ã‚ˆã†ï¼‰
- ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã§ã¯èƒŒæ™¯è‰²ã‚’ `bg-zinc-900/50` ã«

### ãƒ„ãƒ¼ãƒ«ä½¿ç”¨çŠ¶æ³å¯è¦–åŒ–ã®å®Ÿè£…è©³ç´°

- `tool_start` ã§ã‚¹ãƒ”ãƒŠãƒ¼ + ãƒ„ãƒ¼ãƒ«å + å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¡¨ç¤º
- `tool_end` ã§ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ + æ‰€è¦æ™‚é–“ãƒãƒƒã‚¸è¡¨ç¤º
- ã‚¢ã‚¤ã‚³ãƒ³: ğŸ” (file_search), ğŸŒ (web_search), âœï¸ (generate), ğŸ“Š (review)
- ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å½¢å¼ã§ä¸Šã‹ã‚‰ä¸‹ã«é †æ¬¡è¿½åŠ 

### ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½

- å„ `ContentCard` ã«ã€ŒğŸ“‹ Copyã€ãƒœã‚¿ãƒ³
- ã‚¯ãƒªãƒƒã‚¯ã§ `navigator.clipboard.writeText()` ã§ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆMarkdownãªã—ï¼‰ã‚’ã‚³ãƒ”ãƒ¼
- ã‚³ãƒ”ãƒ¼æˆåŠŸæ™‚ã«ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥

## 7. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

### Python (Backend)

```
agent-framework-core # Agent Framework SDK (æ¨ç§»çš„ã«ä»¥ä¸‹ã‚’å«ã‚€):
                     #   pydantic, uvicorn, sse-starlette, httpx,
                     #   openai, mcp, opentelemetry, fastapi (starlette)
azure-identity       # èªè¨¼ (DefaultAzureCredential)
python-dotenv        # ç’°å¢ƒå¤‰æ•°
```

### Node.js (Frontend)

```
react                # UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
typescript           # å‹å®‰å…¨
tailwindcss          # ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° + dark mode
@radix-ui/react-*    # shadcn/ui åŸºç›¤
react-markdown       # Markdown ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
recharts             # ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ
lucide-react         # ã‚¢ã‚¤ã‚³ãƒ³
vite                 # ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
```
